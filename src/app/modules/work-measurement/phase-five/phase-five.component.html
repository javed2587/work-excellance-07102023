<div class="container-fluid">
  <div class="top-section">
    <div class="row row-custom">
      <div class="col-1 d-flex justify-content-end text-center">
        <button class="btn-style" (click)="toggle()">
          <img
            src="../../../../assets/images/WorkSystem/UpArrow.png"
            alt=""
            *ngIf="up"
          />
          <img
            src="../../../../assets/images/WorkSystem/DownArrow.png"
            alt=""
            *ngIf="down"
          />
        </button>
      </div>
      <div class="col-11 d-flex justify-content-end text-center"></div>
    </div>
  </div>

  <div class="card main-card card-top px-2 rounded shadow-sm" *ngIf="flagg">
    <div class="d-flex">
      <!-- <span *ngIf="showLightModal" class="infoTollbar-group">
                <app-mian-tool-bar (pushColorToMainParentSpan)="fetchColor($event)" [displayVal]='modal'>
                </app-mian-tool-bar>
            </span> -->
      <div class="graphPhase">
        <div class="card graph-inner-card">
          <div class="row d-flex">
            <div class="col-10 pr-0 mt-1">
              <div
                class="card graph-card"
                [ngStyle]="{ 'background-color': graphColor }"
              >
                <div class="card child-card m-3 p-1">
                  <span class="text-center">Lost Time Injuries</span>
                  <app-line-graph></app-line-graph>
                  <!-- [graphValues]="listOfGraphValues"> -->
                  <!-- </app-line-graph> -->
                </div>
              </div>
            </div>
            <div class="col-2 pl-0 parent">
              <div (click)="openLightCard()">
                <img
                  class="light-icon"
                  src="../../../../assets/images/header-images/Bulb.svg"
                  alt=""
                />
              </div>

              <div class="absolute d-flex">
                <img
                  class="task-color"
                  src="../../../../assets/workImprovement/task.svg"
                  alt=""
                  [ngStyle]="{ color: iconsColor }"
                  (click)="addGraphValueModal()"
                />
                <img
                  class="svg-color"
                  src="../../../../assets/workImprovement/upload.svg"
                  alt=""
                  [ngStyle]="{ color: iconsColor }"
                />
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="secondPhase">
        <div class="card inner-card hide-title">
          <div class="row">
            <div class="col-12 title-phase"></div>
          </div>
          <div class="" *ngFor="let obj of listOfOwnerDetails; let i = index">
            <div class="row input-group mx-0">
              <div class="col-3 text-end pb-0 my-0 px-1 pt-1">
                <span>{{ obj }}</span>
              </div>
              <div class="col-9 text-end pb-0 my-0 px-1 pt-1">
                <input
                  type="text"
                  class="form-control input-height"
                  placeholder=""
                  aria-label="Username"
                  aria-describedby="basic-addon1"
                />
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="custom-card">
        <div class="card inner-card-fileds mx-2 mt-2">
          <div class="row">
            <div class="col-7 til head">
              <label class="label">Current State (The Story)</label>
            </div>
            <div class="col-5 buttons head">
              <div class="d-flex justify-content-end">
                <div
                  class=""
                  (click)="startService('current')"
                  *ngIf="showMicForCurrentState"
                >
                  <i
                    class="fa fa-microphone microphone-ico"
                    [ngStyle]="{
                      color: voiceCurrentState == true ? 'red' : 'blue'
                    }"
                  ></i>
                </div>
                <div class="">
                  <img
                    src="../../../../../assets/images/WorkSystem/add.png"
                    class="imag-icon"
                    (click)="addFiledForCurrentStat()"
                  />
                </div>
                <div class="">
                  <img
                    src="../../../../../assets/images/WorkSystem/minus.png"
                    class="imag-icon"
                    (click)="removeFieldForCurrentStat()"
                  />
                </div>
              </div>
            </div>
          </div>
          <div
            cdkDropList
            class="example-list"
            (cdkDropListDropped)="dropCurrentStateFileds($event)"
          >
            <div
              class="input-group mb-1 pl-1"
              *ngFor="let o of listOfCurrentState; let i = index"
              (click)="fetchIndexforStateFields(i)"
              cdkDrag
            >
              <span
                class="input-group-text mr-1"
                id="basic-addon1"
                [ngStyle]="{ 'background-color': o?.color }"
                (click)="addRatingForCurrentState(i)"
                >{{ i + 1 }}.{{ 0 }}</span
              >
              <span *ngIf="o.showModal" class="tollbar-group">
                <app-mian-tool-bar
                  (pushColorToMainParentSpan)="
                    setColorValueForCurrentStat($event)
                  "
                  [showSnakeBarMenu]="showSnakeBar"
                  [displayVal]="showModal"
                  [color]="o.color"
                >
                </app-mian-tool-bar>
              </span>
              <input
                type="text"
                class="form-control icon"
                placeholder=""
                aria-label="Username"
                aria-describedby="basic-addon1"
                [(ngModel)]="o.value"
              />
              <!-- <span>{{o.value}}</span> -->
            </div>
          </div>
        </div>
      </div>
      <div class="custom-card">
        <div class="card inner-card-fileds mr-2 mt-2">
          <div class="row">
            <div class="col-6 til head">
              <label class="label">{{ title }} </label>
            </div>
            <div class="col-6 buttons head">
              <div class="d-flex justify-content-end">
                <div
                  class=""
                  (click)="startService('pdca')"
                  *ngIf="showMicForPDCA"
                >
                  <i
                    class="fa fa-microphone microphone-ico"
                    [ngStyle]="{ color: voicePDCA == true ? 'red' : 'blue' }"
                  ></i>
                </div>
                <div class="">
                  <img
                    src="../../../../../assets/images/WorkSystem/add.png"
                    class="imag-icon"
                    (click)="addFiledForPDCA()"
                  />
                </div>
                <div class="">
                  <img
                    src="../../../../../assets/images/WorkSystem/minus.png"
                    class="imag-icon"
                    (click)="removeFieldForPDCA()"
                  />
                </div>
              </div>
            </div>
          </div>
          <div
            cdkDropList
            class="example-list"
            (cdkDropListDropped)="dropMangment($event)"
          >
            <div
              class="input-group mb-1 pl-1"
              *ngFor="let o of listOfPDCA; let i = index"
              (click)="fetchIndexForPDCA(i)"
              cdkDrag
            >
              <span
                class="input-group-text mr-1"
                id="basic-addon1"
                [ngStyle]="{ 'background-color': o?.color }"
                (click)="addRatingForPDCA(i)"
                >{{ i + 1 }}.{{ 0 }}</span
              >
              <span *ngIf="o.showModal" class="tollbar-group">
                <app-mian-tool-bar
                  (pushColorToMainParentSpan)="setColorValueForPDCA($event)"
                  [showSnakeBarMenu]="showSnakeBar"
                  [displayVal]="showModal"
                  [color]="o.color"
                >
                </app-mian-tool-bar>
              </span>
              <input
                type="text"
                class="form-control icon"
                placeholder=""
                aria-label="Username"
                aria-describedby="basic-addon1"
                [(ngModel)]="o.value"
              />
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<span *ngIf="showChartModal" class="position-card">
  <!-- (chartData)="fetchchartValues($event) -->
  <app-graph-value-modal (onCancel)="fetchFlag($event)">
  </app-graph-value-modal>
</span>

<div class="div" *ngIf="showLightModal">
  <app-add-rating
    [isdisplayRatingModal]="showLightModal"
    (onaddRating)="selectedColor($event)"
    (onCancel)="cancelMode($event)"
  >
  </app-add-rating>
</div>
