<div class="menu-card">
  <!--? First Gate -->
  <div class="folder-icon" *ngIf="IsFirstGate">
    <div class="mb-2" *ngIf="openFolder" (click)="toggle()">
      <img class="close-door" src="../../../../assets/WorkSystem/DoorOpen.png"
        alt="door open iamge" />
    </div>
    <div class="mb-2" *ngIf="closeFolder" (click)="toggle()">
      <img class="close-door" src="../../../../assets/WorkSystem/DoorClose.png"
        alt="door close image" />
    </div>
    <div class="title" *ngIf="openFolder"
    (click)="
      sentCurrentGateIndexValue(itemIndex);
      sentCurrentItemIndexValue(itemIndex)">
       <!-- {{ initialTitle != '' ? initialTitle : gateName }} -->
       {{stratValuesRecivedFromParent != '' ? stratValuesRecivedFromParent: startgateName}}
    </div>
    <div class="title" *ngIf="closeFolder" (click)="openGateModal('')">{{phaseTitle }}
    </div>
    <div class="index-number px-1 mt-2"
    [ngStyle]="{ 'background-color': this.items[itemIndex]?.gateColorValue }"
    (click)="openRatingModal(itemIndex,items[itemIndex].childflag)">
      <span >{{ indx }}</span>
    </div>

    <span *ngIf="items[itemIndex].childflag && this.phaseListModalFlag == true
      && this.headerSectionModalFlag == false" class="status-bar">
      <app-mian-tool-bar
        (pushColorToMainParentSpan)="setColorValueForGate($event)"
        [showSnakeBarMenu]="showSnakeBar" [displayVal]="modal"
        [lockstatus]="lockstatus" [openRatingForNote]="true"
        [openRatingTabFlag]="true">
      </app-mian-tool-bar>
    </span>
  </div>

<!--? second Gate and onWord   -->
  <div class="folder-icon" *ngIf="!IsFirstGate">
    <div class="mb-2" *ngIf="openFolder" (click)="toggle()">
      <img class="close-door" src="../../../../assets/WorkSystem/DoorOpen.png"
        alt="door open iamge" />
    </div>
    <div class="mb-2" *ngIf="closeFolder" (click)="toggle()">
      <img class="close-door" src="../../../../assets/WorkSystem/DoorClose.png"
        alt="door close image" />
    </div>
    <div class="title" *ngIf="openFolder" (click)="openGateModal('beg');
      sentCurrentGateIndexValue(itemIndex);
      sentCurrentItemIndexValue(itemIndex)">
       {{ initialTitle != '' ? initialTitle : gateName }}
    </div>
    <div class="title" *ngIf="closeFolder" (click)="openGateModal('')">{{phaseTitle }}
    </div>

    <div class="index-number px-1 mt-2"
    [ngStyle]="{ 'background-color': this.items[itemIndex]?.gateColorValue }"
    (click)="openRatingModal(itemIndex,
      items[itemIndex].childflag)">
      <span>{{ indx }}</span>
    </div>

    <span *ngIf="items[itemIndex].childflag
      && this.phaseListModalFlag == true
      && this.headerSectionModalFlag == false"
      class="status-bar">
      <app-mian-tool-bar
        (pushColorToMainParentSpan)="setColorValueForGate($event)"
        [showSnakeBarMenu]="showSnakeBar" [displayVal]="modal"
        [lockstatus]="lockstatus" [openRatingForNote]="true"
        [openRatingTabFlag]="true">
      </app-mian-tool-bar>
    </span>

  </div>

<!--? New Phase/Page -->
  <div class="content-card" *ngIf="showBody">
    <div class="acc-body shadow" (click)="sentCurrentItemIndexValue(itemIndex)"
      [ngClass]="{ highlight: setOutLine ? true : false }">
         <!--? Phase Puprpose  -->
          <div class="phasePupose">
            <label for="">Phase Purpose</label>
            <img src="../../../../assets/images/header-images/Bulb.svg" alt="">
            <input type="text">
          </div>
         <!--? Phase Measure list -->
         <!--? Phase  -->
         <!--? Steps Of Work list -->
      <!-- <app-text-fields
      indxVal="{{ indx }}"
      [showModal]="showModal"
        [phaseTitle]="phaseTitle"
        [itemIndex]="itemIndex"
        [items]="items"
        (sendphaseName)="getPhaseName($event)"
        (sendphasePurpose)="getPhasePurpose($event)"
        (sendphaseMeasures)="getPhaseMeasures($event)"
        (sendWorkTypes)="getWorkTypes($event)"
        (sendWorkTypesFieldsData)="getWorkTypesFieldsData($event)"
        (sendPhaseListModalFlag)="getPhaseListModalFlag($event)"
        (sendShowModal)="getShowModal($event)"
        [snackbarStatus]="snackbarStatus"
        [phasePurpose]="phasePurpose"
        [phaseMeasuresData]="phaseMeasuresData"
        [workTypesData]="workTypesData"
        [workMeasureData]="workMeasureData"
        [lockstatus]="lockstatus"
        [phaseListModalFlag]="phaseListModalFlag"
        [headerSectionModalFlag]="headerSectionModalFlag"
        [itemIndex]="itemIndex"
        (sendRemoveItems)="getRemoveItems($event)"
        (sendRemoveitemasPop)="getRemoveItemsPop($event)"
        (sendRemoveItemsMeasurement)="getRemoveItemsMeasure($event)"
        (sendRemoveitemasMeasurementPop)="getRemoveItemsMeasurePop($event)"
        (sendColorforStepsOfWork)="getColorRateValue($event)"
        (sendPhaseMeasuresFields)="getPhaseMeasureFields($event)"
        (sendCurrentItemIndexToParent)="getVlauesForPhasePurpose($event)"
        (setIndexValForPhaseName)="getIndexValForPhaseName($event)"
        (setPhaseMeasureIndex)="getPhaseMeasureIndex($event)"
        (setPhasWorkTypesValues)="getPhaseWorkTypesValues($event)"
        (setColorForStepOfWorks)="getColorForStepOfWorks($event)"
        (sendValueForPhaseName)="getColorValueForPhaseName($event)"
        [exitsnakbar]="exitSnakeBar">
      </app-text-fields> -->
    </div>
  </div>
<!--? Last gate  -->
  <div class="folder-exit folder-icon" *ngIf="lastGate">
    <div class="mb-2">
      <img class="close-door" src="../../../../assets/WorkSystem/DoorClose.png"
        alt="door close image" />
    </div>
    <div class="title" (click)="openGateModal('exit')">{{
      exitValueRecivedFromParent != '' ? exitValueRecivedFromParent : exitgateName }}
    </div>
  </div>

</div>
<!--? Rename gate Modal -->
<span *ngIf="setRenameGateFlag" class="modal-position">
  <app-gate-modal (cancelEvent)="cancelModal($event)"
    (renameGate)="renameGateName($event)"
    (gatExitGateName)="exitGateName($event)"
     [gateName]="gaterRename"
    [displayVal]="setRenameGateFlag"
    [modalName]="modalName">
  </app-gate-modal>
</span>
